#{extends 'masterTemplate.html' /}

#{set 'moreStyles'}
    <link rel="stylesheet" type="text/css" media="screen" href="@{'/public/stylesheets/search.css'}" />
#{/set}

#{set 'moreScripts'}
    <script src="@{'/public/javascripts/dab/dualModeSwitcher.js'}" type="text/javascript" charset="${_response_encoding}"></script>
    <script src="@{'/public/javascripts/dab/search.js'}" type="text/javascript" charset="${_response_encoding}"></script>
    <script src="@{'/public/javascripts/projects/projectsSearch.js'}" type="text/javascript" charset="${_response_encoding}"></script>
    
    <script type="text/javascript">
   		var allThemes = ${allThemesJson.raw()};
	</script>
    
#{/set}

<div class="searchPageContainer">


	<div id="projectSearch_modeSimple">
	
		<p>&{'projectSearchSimpleModeExplanation'}</p>
		
		<a id="hiddenLinkToEmptyProjectSearchResultPage" href="@{projects.ProjectsResults.projectsResults}" class="hidden" ></a>
		#{dab.simpleSearch /}	
	
		<p>
			<span>&{'projectSearchSimpleModeExplanation_GotoAdvancedMode'} </span>
			<span id="projectSearchSwitchToAdvancedModeLink" class="dabLink">&{'projectSearchSimpleModeExplanation_GotoAdvancedMode_Link'}</span>
		</p>
	
	</div>

	<div id="projectSearch_modeAdvanced" class="hidden">
		<p>
			<span>&{'projectSearchAdvancedModeExplanation_GotoSimpleMode'} </span>
			<span id="projectSearchSwitchToSimpleModeLink" class="dabLink">&{'projectSearchAdvancedModeExplanation_GotoSimpleMode_Link'}</span>
		</p>

		#{form @projects.ProjectsResults.projectsResults()}
			<table>
				<tbody>
					<tr id="searchLine">
						<td class="formlabel">&{'projectSearchKeyWords'}:</td>
						<td><input id="projectAdvancedSearchInputText" type="text" size="60" name="r.term"></td>
						<td><input type="submit" value="GO"   /></td>
					</tr>
					<tr>
						<td class="formlabel">&{'projectSearchCategories'}:</td>
						<td>
							<div id="inputSearchProjectsThemes">
								#{dab.inputMultiThemes  addThemeLinkLabel:messages.get('projectNewAddOneTheme')/}
							</div>
						</td>
					</tr>
				</tbody>
			</table>
			<input id="hiddenAllThemesJson" name="r.themes" type="hidden" />
		#{/form }
	</div>

</div>
